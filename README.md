# MyGit - Webç‰ˆæœ¬åœ°Gitç®¡ç†å·¥å…·

ä¸€ä¸ªç°ä»£åŒ–çš„Webç‰ˆæœ¬åœ°Gitç®¡ç†å·¥å…·ï¼Œé‡‡ç”¨GitKrakené£æ ¼çš„ç•Œé¢è®¾è®¡ï¼Œæ”¯æŒå®Œæ•´çš„Gitæ“ä½œã€‚

## åŠŸèƒ½ç‰¹æ€§

### ä»“åº“ç®¡ç†
- æ·»åŠ æœ¬åœ°ä»“åº“ï¼ˆé€‰æ‹©è·¯å¾„ï¼‰
- å…‹éš†è¿œç¨‹ä»“åº“
- åˆ é™¤ä»“åº“ï¼ˆä»…ä»åˆ—è¡¨ç§»é™¤ï¼‰
- ä»“åº“åˆ—è¡¨å±•ç¤º
- ä»“åº“å¿«é€Ÿåˆ‡æ¢

### åŸºç¡€Gitæ“ä½œ
- æŸ¥çœ‹ä»“åº“çŠ¶æ€ï¼ˆstatusï¼‰
- æš‚å­˜æ–‡ä»¶ï¼ˆadd/stageï¼‰
- å–æ¶ˆæš‚å­˜ï¼ˆunstage/resetï¼‰
- æäº¤ï¼ˆcommitï¼‰
- æ¨é€ï¼ˆpushï¼‰
- æ‹‰å–ï¼ˆpullï¼‰
- è·å–ï¼ˆfetchï¼‰

### åˆ†æ”¯ç®¡ç†
- åˆ†æ”¯åˆ—è¡¨å±•ç¤º
- åˆ›å»ºæ–°åˆ†æ”¯
- åˆ‡æ¢åˆ†æ”¯
- åˆ é™¤åˆ†æ”¯ï¼ˆå•ä¸ª/æ‰¹é‡ï¼‰
- åˆ†æ”¯é‡å‘½å
- å›¾å½¢åŒ–åˆ†æ”¯æ ‘
- **æ¸…ç†è¿‡æœŸæœ¬åœ°åˆ†æ”¯** - ä¸€é”®æ¸…é™¤è¿œç¨‹å·²åˆ é™¤çš„æœ¬åœ°åˆ†æ”¯

### é«˜çº§æ“ä½œ
- åˆå¹¶åˆ†æ”¯ï¼ˆmergeï¼‰
- å˜åŸºï¼ˆrebaseï¼‰
- Stashï¼ˆæš‚å­˜å·¥ä½œåŒºï¼‰
- æ ‡ç­¾ç®¡ç†ï¼ˆtagï¼‰
- é‡ç½®ï¼ˆresetï¼‰
- æ’¤é”€æäº¤ï¼ˆrevertï¼‰

### å†å²æŸ¥çœ‹
- Commitå†å²åˆ—è¡¨
- æ–‡ä»¶å˜æ›´è¯¦æƒ…
- DiffæŸ¥çœ‹å™¨
- æ–‡ä»¶å†å²

## æŠ€æœ¯æ ˆ

### åç«¯
- **Node.js** + **Express.js** - WebæœåŠ¡å™¨
- **simple-git** - Gitæ“ä½œåº“
- **fs-extra** - æ–‡ä»¶ç³»ç»Ÿæ“ä½œ

### å‰ç«¯
- **React 18** - UIæ¡†æ¶
- **Vite** - æ„å»ºå·¥å…·
- **Ant Design 5** - UIç»„ä»¶åº“
- **Zustand** - çŠ¶æ€ç®¡ç†ï¼ˆè½»é‡çº§ï¼Œæ”¯æŒæŒä¹…åŒ–ï¼‰
- **Axios** - HTTPå®¢æˆ·ç«¯

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18
- npm >= 9
- Git >= 2.x

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

è¿™å°†åŒæ—¶å¯åŠ¨ï¼š
- åç«¯æœåŠ¡ï¼šhttp://localhost:3000
- å‰ç«¯æœåŠ¡ï¼šhttp://localhost:5173

### ç”Ÿäº§æ„å»º

```bash
npm run build
npm start
```

## é¡¹ç›®ç»“æ„

```
mygit/
â”œâ”€â”€ package.json              # Monorepoæ ¹é…ç½®
â”œâ”€â”€ server/                   # Node.jsåç«¯
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.js          # å…¥å£æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ routes/           # APIè·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ repo.js       # ä»“åº“ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ git.js        # Gitæ“ä½œ
â”‚   â”‚   â”‚   â””â”€â”€ config.js     # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ services/         # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ gitService.js # Gitå‘½ä»¤å°è£…
â”‚   â”‚   â”‚   â””â”€â”€ repoService.js# ä»“åº“ç®¡ç†
â”‚   â”‚   â””â”€â”€ data/             # æ•°æ®å­˜å‚¨
â””â”€â”€ client/                   # Reactå‰ç«¯
    â”œâ”€â”€ package.json
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ main.jsx
    â”‚   â”œâ”€â”€ App.jsx
    â”‚   â”œâ”€â”€ components/       # UIç»„ä»¶
    â”‚   â”‚   â”œâ”€â”€ layout/       # å¸ƒå±€ç»„ä»¶
    â”‚   â”‚   â”‚   â”œâ”€â”€ MainLayout.jsx
    â”‚   â”‚   â”‚   â””â”€â”€ Toolbar.jsx
    â”‚   â”‚   â”œâ”€â”€ repo/         # ä»“åº“ç›¸å…³
    â”‚   â”‚   â”‚   â”œâ”€â”€ RepoList.jsx
    â”‚   â”‚   â”‚   â””â”€â”€ AddRepoModal.jsx
    â”‚   â”‚   â””â”€â”€ git/          # Gitæ“ä½œ
    â”‚   â”‚       â”œâ”€â”€ CommitGraph.jsx
    â”‚   â”‚       â”œâ”€â”€ FileStatus.jsx
    â”‚   â”‚       â””â”€â”€ DiffViewer.jsx
    â”‚   â”œâ”€â”€ hooks/            # è‡ªå®šä¹‰Hooks
    â”‚   â”‚   â””â”€â”€ index.js
    â”‚   â”œâ”€â”€ services/         # APIè°ƒç”¨
    â”‚   â”‚   â””â”€â”€ api.js
    â”‚   â”œâ”€â”€ store/            # çŠ¶æ€ç®¡ç†
    â”‚   â”‚   â””â”€â”€ index.js
    â”‚   â””â”€â”€ styles/           # æ ·å¼æ–‡ä»¶
    â””â”€â”€ ...
```

## APIæ¥å£

### ä»“åº“ç®¡ç†
- `GET /api/repos` - è·å–ä»“åº“åˆ—è¡¨
- `POST /api/repos` - æ·»åŠ ä»“åº“
- `DELETE /api/repos/:id` - åˆ é™¤ä»“åº“
- `POST /api/repos/clone` - å…‹éš†ä»“åº“

### GitåŸºç¡€æ“ä½œ
- `GET /api/git/status` - è·å–çŠ¶æ€
- `POST /api/git/add` - æš‚å­˜æ–‡ä»¶
- `POST /api/git/reset` - å–æ¶ˆæš‚å­˜/é‡ç½®
- `POST /api/git/commit` - æäº¤
- `POST /api/git/push` - æ¨é€
- `POST /api/git/pull` - æ‹‰å–
- `POST /api/git/fetch` - è·å–

### åˆ†æ”¯ç®¡ç†
- `GET /api/git/branches` - åˆ†æ”¯åˆ—è¡¨
- `POST /api/git/branch` - åˆ›å»ºåˆ†æ”¯
- `DELETE /api/git/branch` - åˆ é™¤åˆ†æ”¯
- `POST /api/git/checkout` - åˆ‡æ¢åˆ†æ”¯
- `POST /api/git/rename-branch` - åˆ†æ”¯é‡å‘½å
- `GET /api/git/stale-branches` - è·å–è¿‡æœŸæœ¬åœ°åˆ†æ”¯
- `POST /api/git/delete-branches` - æ‰¹é‡åˆ é™¤åˆ†æ”¯
- `POST /api/git/prune` - æ¸…ç†è¿œç¨‹è¿½è¸ªåˆ†æ”¯

### å†å²ä¸å·®å¼‚
- `GET /api/git/log` - æäº¤å†å²
- `GET /api/git/diff` - æ–‡ä»¶å·®å¼‚
- `GET /api/git/diff-summary` - å·®å¼‚æ‘˜è¦

### é«˜çº§æ“ä½œ
- `POST /api/git/merge` - åˆå¹¶
- `POST /api/git/rebase` - å˜åŸº
- `POST /api/git/rebase/abort` - ä¸­æ­¢å˜åŸº
- `POST /api/git/rebase/continue` - ç»§ç»­å˜åŸº
- `POST /api/git/stash` - Stashæ“ä½œ
- `GET /api/git/stash/list` - Stashåˆ—è¡¨
- `POST /api/git/tag` - åˆ›å»ºæ ‡ç­¾
- `DELETE /api/git/tag` - åˆ é™¤æ ‡ç­¾
- `GET /api/git/tags` - æ ‡ç­¾åˆ—è¡¨
- `POST /api/git/revert` - æ’¤é”€æäº¤
- `GET /api/git/remotes` - è¿œç¨‹ä»“åº“ä¿¡æ¯

## ç•Œé¢é¢„è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Logo    [ä»“åº“é€‰æ‹©å™¨ â–¼]     [Fetch] [Pull] [Push]  [ğŸŒ™] [âš™] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚  [åˆ†æ”¯é€‰æ‹© â–¼] [+] [ğŸ—‘]  [Merge] [Rebase] [Stash]  â”‚
â”‚  ä»“åº“åˆ—è¡¨ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚                                                  â”‚
â”‚  + æ·»åŠ    â”‚              åˆ†æ”¯å›¾ï¼ˆå¯è§†åŒ–ï¼‰                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€  â”‚                                                  â”‚
â”‚  - Repo1 â”‚    â”Œâ”€â”€â— feature                                 â”‚
â”‚  - Repo2 â”‚    â”‚                                             â”‚
â”‚  - Repo3 â”‚    â—â”€â”€â— main                                     â”‚
â”‚          â”‚         â”‚                                        â”‚
â”‚          â”‚         â—â”€â”€â— origin/main                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   [Unstaged Files]  â”‚  [Staged Files]  â”‚  [Commit Message]  â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚   â–¡ file1.js         â”‚  â˜‘ file2.js      â”‚  [è¾“å…¥æäº¤ä¿¡æ¯]    â”‚
â”‚   â–¡ file2.js         â”‚  â˜‘ file3.js      â”‚                   â”‚
â”‚   â–¡ file3.js         â”‚                  â”‚  [Commit]         â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ç‰¹è‰²åŠŸèƒ½è¯´æ˜

### æ¸…ç†è¿‡æœŸæœ¬åœ°åˆ†æ”¯

å½“è¿œç¨‹åˆ†æ”¯è¢«åˆ é™¤åï¼Œæœ¬åœ°å¯èƒ½è¿˜ä¿ç•™ç€å¯¹åº”çš„åˆ†æ”¯ã€‚ä½¿ç”¨å·¥å…·æ ä¸­çš„æ¸…ç†æŒ‰é’®ï¼ˆğŸ—‘ï¼‰å¯ä»¥ï¼š

1. è‡ªåŠ¨è·å–è¿œç¨‹æœ€æ–°åˆ†æ”¯ä¿¡æ¯
2. æ‰«ææœ¬åœ°åˆ†æ”¯ï¼Œæ‰¾å‡ºè¿œç¨‹å·²ä¸å­˜åœ¨çš„åˆ†æ”¯
3. é€‰æ‹©æ€§åœ°æ‰¹é‡åˆ é™¤è¿‡æœŸåˆ†æ”¯
4. æ”¯æŒ"å¼ºåˆ¶åˆ é™¤"é€‰é¡¹ï¼ˆç”¨äºåˆ é™¤æœ‰æœªåˆå¹¶æ›´æ”¹çš„åˆ†æ”¯ï¼‰
5. è‡ªåŠ¨ä¿æŠ¤é‡è¦åˆ†æ”¯ï¼ˆmainã€masterã€developã€devï¼‰å’Œå½“å‰åˆ†æ”¯

### æš—è‰²ä¸»é¢˜

ç‚¹å‡»é¡¶éƒ¨çš„æœˆäº®/å¤ªé˜³å›¾æ ‡å³å¯åˆ‡æ¢æ˜æš—ä¸»é¢˜ï¼Œä¸»é¢˜åå¥½ä¼šè‡ªåŠ¨ä¿å­˜ã€‚

## è®¸å¯è¯

MIT
